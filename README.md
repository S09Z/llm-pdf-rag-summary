# ğŸ¤– PDF Q&A: à¸£à¸°à¸šà¸šà¸–à¸²à¸¡-à¸•à¸­à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸²à¸à¸„à¸¥à¸±à¸‡ PDF à¸”à¹‰à¸§à¸¢ RAG à¹à¸¥à¸° LLM

à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œà¸™à¸µà¹‰à¸„à¸·à¸­à¸£à¸°à¸šà¸šà¸–à¸²à¸¡-à¸•à¸­à¸š (Question-Answering) à¸­à¸±à¸ˆà¸‰à¸£à¸´à¸¢à¸° à¸—à¸µà¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸•à¸­à¸šà¸„à¸³à¸–à¸²à¸¡à¹‚à¸”à¸¢à¸­à¹‰à¸²à¸‡à¸­à¸´à¸‡à¹€à¸™à¸·à¹‰à¸­à¸«à¸²à¸ˆà¸²à¸à¸„à¸¥à¸±à¸‡à¹€à¸­à¸à¸ªà¸²à¸£ PDF à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§à¸‚à¸­à¸‡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ à¸–à¸¹à¸à¸ªà¸£à¹‰à¸²à¸‡à¸‚à¸¶à¹‰à¸™à¹‚à¸”à¸¢à¹ƒà¸Šà¹‰à¸ªà¸–à¸²à¸›à¸±à¸•à¸¢à¸à¸£à¸£à¸¡ Retrieval Augmented Generation (RAG) à¹€à¸à¸·à¹ˆà¸­à¹ƒà¸«à¹‰à¹„à¸”à¹‰à¸„à¸³à¸•à¸­à¸šà¸—à¸µà¹ˆà¹à¸¡à¹ˆà¸™à¸¢à¸³, à¸•à¸£à¸‡à¸›à¸£à¸°à¹€à¸”à¹‡à¸™, à¹à¸¥à¸°à¸¥à¸”à¸à¸²à¸£à¸ªà¸£à¹‰à¸²à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¹€à¸›à¹‡à¸™à¸ˆà¸£à¸´à¸‡ (Hallucination) à¸ˆà¸²à¸ Large Language Model (LLM)

à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸à¸´à¹ˆà¸¡à¹„à¸Ÿà¸¥à¹Œ PDF à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸¥à¸‡à¹ƒà¸™à¸„à¸¥à¸±à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ à¸ˆà¸²à¸à¸™à¸±à¹‰à¸™à¸£à¸°à¸šà¸šà¸ˆà¸°à¸—à¸³à¸à¸²à¸£à¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥à¹à¸¥à¸°à¸ˆà¸±à¸”à¸—à¸³à¸”à¸±à¸Šà¸™à¸µ (Indexing) à¹€à¸à¸·à¹ˆà¸­à¹ƒà¸«à¹‰à¸à¸£à¹‰à¸­à¸¡à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸„à¹‰à¸™à¸«à¸²à¹à¸¥à¸°à¸•à¸­à¸šà¸„à¸³à¸–à¸²à¸¡à¸œà¹ˆà¸²à¸™à¸«à¸™à¹‰à¸²à¹€à¸§à¹‡à¸šà¹à¸­à¸›à¸à¸¥à¸´à¹€à¸„à¸Šà¸±à¸™à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸‡à¹ˆà¸²à¸¢

### âœ¨ à¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´à¸«à¸¥à¸±à¸ (Features)

- **Data Indexing:** à¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥à¹„à¸Ÿà¸¥à¹Œ PDF, à¹à¸šà¹ˆà¸‡à¹€à¸™à¸·à¹‰à¸­à¸«à¸²à¹€à¸›à¹‡à¸™à¸ªà¹ˆà¸§à¸™à¸¢à¹ˆà¸­à¸¢ (chunks), à¹à¸¥à¸°à¸ªà¸£à¹‰à¸²à¸‡ Vector Embeddings à¹€à¸à¸·à¹ˆà¸­à¸ˆà¸±à¸”à¹€à¸à¹‡à¸šà¸¥à¸‡à¹ƒà¸™ Vector Database
- **Retrieval Augmented Generation (RAG):** à¸„à¹‰à¸™à¸«à¸²à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¹ˆà¸§à¸™à¸—à¸µà¹ˆà¹€à¸à¸µà¹ˆà¸¢à¸§à¸‚à¹‰à¸­à¸‡à¸—à¸µà¹ˆà¸ªà¸¸à¸”à¸ˆà¸²à¸à¸„à¸¥à¸±à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸à¸·à¹ˆà¸­à¸™à¸³à¸¡à¸²à¹€à¸›à¹‡à¸™à¸šà¸£à¸´à¸šà¸— (context) à¹ƒà¸«à¹‰ LLM à¹ƒà¸Šà¹‰à¹ƒà¸™à¸à¸²à¸£à¸ªà¸£à¹‰à¸²à¸‡à¸„à¸³à¸•à¸­à¸š
- **Q&A Interface:** à¸«à¸™à¹‰à¸²à¹€à¸§à¹‡à¸šà¹à¸­à¸›à¸à¸¥à¸´à¹€à¸„à¸Šà¸±à¸™à¸ªà¸³à¸«à¸£à¸±à¸šà¹ƒà¸«à¹‰à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸à¸´à¸¡à¸à¹Œà¸„à¸³à¸–à¸²à¸¡à¹à¸¥à¸°à¸£à¸±à¸šà¸„à¸³à¸•à¸­à¸š à¸à¸£à¹‰à¸­à¸¡à¹à¸ªà¸”à¸‡à¹€à¸­à¸à¸ªà¸²à¸£à¸­à¹‰à¸²à¸‡à¸­à¸´à¸‡
- **Local First:** à¸—à¸³à¸‡à¸²à¸™à¹„à¸”à¹‰à¸ªà¸¡à¸šà¸¹à¸£à¸“à¹Œà¸šà¸™à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡ local à¹‚à¸”à¸¢à¹ƒà¸Šà¹‰ Ollama à¹ƒà¸™à¸à¸²à¸£à¸£à¸±à¸™ LLM à¹à¸¥à¸° ChromaDB à¹€à¸›à¹‡à¸™ Vector Store
- **Data Visualization:** à¸ªà¸„à¸£à¸´à¸›à¸•à¹Œà¸ªà¸³à¸«à¸£à¸±à¸šà¹à¸ªà¸”à¸‡à¸ à¸²à¸à¸„à¸§à¸²à¸¡à¸ªà¸±à¸¡à¸à¸±à¸™à¸˜à¹Œà¸‚à¸­à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸™ Vector Database à¹ƒà¸™à¸£à¸¹à¸›à¹à¸šà¸š 2 à¸¡à¸´à¸•à¸´

### ğŸ› ï¸ à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰ (Tech Stack)

- **Backend & Orchestration:** Python, LangChain
- **LLM:** Ollama (à¸£à¸­à¸‡à¸£à¸±à¸šà¹‚à¸¡à¹€à¸”à¸¥à¸•à¹ˆà¸²à¸‡à¹† à¹€à¸Šà¹ˆà¸™ Llama 3, Mistral)
- **Embedding Model:** Sentence Transformers (à¸ˆà¸²à¸ Hugging Face)
- **Vector Database:** ChromaDB
- **Web Interface:** Streamlit
- **Dependency Management:** Poetry
- **Workflow Automation:** Poe the Poet

---

## ğŸ“‚ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œà¹ƒà¸™à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ (Project Structure)

```
llm-pdf-rag-summary/
â”œâ”€â”€ .streamlit/
â”‚   â””â”€â”€ config.toml        # à¹„à¸Ÿà¸¥à¹Œà¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸ªà¸³à¸«à¸£à¸±à¸š Streamlit (à¹€à¸Šà¹ˆà¸™ à¸›à¸´à¸” file watcher)
â”œâ”€â”€ chroma_db/               # à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¸—à¸µà¹ˆ ChromaDB à¸ªà¸£à¹‰à¸²à¸‡à¸‚à¸¶à¹‰à¸™à¹€à¸à¸·à¹ˆà¸­à¹€à¸à¹‡à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥ (auto-generated)
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ init.py
â”‚   â”œâ”€â”€ logger_config.py     # à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸à¸²à¸£à¹à¸ªà¸”à¸‡à¸œà¸¥ log à¹ƒà¸«à¹‰à¸ªà¸§à¸¢à¸‡à¸²à¸¡à¸”à¹‰à¸§à¸¢ Rich
â”‚   â”œâ”€â”€ pdf_processor.py     # à¹‚à¸„à¹‰à¸”à¸ªà¸³à¸«à¸£à¸±à¸šà¹‚à¸«à¸¥à¸”à¹à¸¥à¸°à¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥à¹„à¸Ÿà¸¥à¹Œ PDF
â”‚   â”œâ”€â”€ qa_system.py         # Logic à¸«à¸¥à¸±à¸à¸‚à¸­à¸‡à¸£à¸°à¸šà¸š RAG à¹à¸¥à¸°à¸à¸²à¸£à¸•à¸­à¸šà¸„à¸³à¸–à¸²à¸¡
â”‚   â””â”€â”€ temp/                # à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¸ªà¸³à¸«à¸£à¸±à¸šà¹ƒà¸ªà¹ˆà¹„à¸Ÿà¸¥à¹Œ PDF à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹ƒà¸«à¹‰à¸£à¸°à¸šà¸šà¹€à¸£à¸µà¸¢à¸™à¸£à¸¹à¹‰
â”œâ”€â”€ .env                     # (Optional) à¸ªà¸³à¸«à¸£à¸±à¸šà¹€à¸à¹‡à¸š API keys à¸­à¸·à¹ˆà¸™à¹† à¹ƒà¸™à¸­à¸™à¸²à¸„à¸•
â”œâ”€â”€ .gitignore
â”œâ”€â”€ app.py                   # à¸ªà¸„à¸£à¸´à¸›à¸•à¹Œà¸«à¸¥à¸±à¸à¸ªà¸³à¸«à¸£à¸±à¸šà¸£à¸±à¸™ Streamlit Web App
â”œâ”€â”€ visualize_db.py          # à¸ªà¸„à¸£à¸´à¸›à¸•à¹Œà¸ªà¸³à¸«à¸£à¸±à¸šà¸ªà¸£à¹‰à¸²à¸‡à¸ à¸²à¸ Visualization à¸‚à¸­à¸‡ Vector DB
â”œâ”€â”€ poetry.lock
â””â”€â”€ pyproject.toml           # à¹„à¸Ÿà¸¥à¹Œà¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ, dependencies, à¹à¸¥à¸° workflow à¸‚à¸­à¸‡ Poe
```

---

## âš™ï¸ à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¹à¸¥à¸°à¸ªà¸´à¹ˆà¸‡à¸—à¸µà¹ˆà¸ˆà¸³à¹€à¸›à¹‡à¸™ (Prerequisites & Setup)

à¸à¹ˆà¸­à¸™à¸£à¸±à¸™à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¹ƒà¸«à¹‰à¹à¸™à¹ˆà¹ƒà¸ˆà¸§à¹ˆà¸²à¸„à¸¸à¸“à¹„à¸”à¹‰à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸•à¸²à¸¡à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸•à¹ˆà¸­à¹„à¸›à¸™à¸µà¹‰à¹à¸¥à¹‰à¸§

| à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸¡à¸·à¸­ / à¸šà¸£à¸´à¸à¸²à¸£ | à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² | à¸„à¸³à¸ªà¸±à¹ˆà¸‡ (à¸–à¹‰à¸²à¸¡à¸µ) |
| :--- | :--- | :--- |
| **Poetry** | à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ Dependencies à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸‚à¸­à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ | `poetry install` |
| **Ollama** | à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ Ollama à¹à¸¥à¸°à¸”à¸²à¸§à¸™à¹Œà¹‚à¸«à¸¥à¸” LLM à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸¡à¸²à¹€à¸à¹‡à¸šà¹„à¸§à¹‰à¹ƒà¸™à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡ | `ollama pull llama3` |
| **Hugging Face**| à¸¥à¹‡à¸­à¸à¸­à¸´à¸™à¹€à¸à¸·à¹ˆà¸­à¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™à¹ƒà¸™à¸à¸²à¸£à¸”à¸²à¸§à¸™à¹Œà¹‚à¸«à¸¥à¸” Embedding Model | `huggingface-cli login` |

---

## ğŸš€ à¸§à¸´à¸˜à¸µà¸à¸²à¸£à¸£à¸±à¸™à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ (Getting Started)

à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œà¸™à¸µà¹‰à¹ƒà¸Šà¹‰ **Poe the Poet** à¹ƒà¸™à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£ Workflow à¸—à¸³à¹ƒà¸«à¹‰à¸ªà¸²à¸¡à¸²à¸£à¸–à¸£à¸±à¸™à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸•à¹ˆà¸²à¸‡à¹† à¹„à¸”à¹‰à¸‡à¹ˆà¸²à¸¢à¸œà¹ˆà¸²à¸™à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸ªà¸±à¹‰à¸™à¹†

1.  **à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ Dependencies à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” (à¸—à¸³à¸„à¸£à¸±à¹‰à¸‡à¹à¸£à¸):**
    ```bash
    poetry install
    ```

2.  **à¸ªà¸£à¹‰à¸²à¸‡à¸”à¸±à¸Šà¸™à¸µà¸‚à¹‰à¸­à¸¡à¸¹à¸¥ (Indexing):**
    à¸™à¸³à¹„à¸Ÿà¸¥à¹Œ PDF à¸‚à¸­à¸‡à¸„à¸¸à¸“à¹„à¸›à¹ƒà¸ªà¹ˆà¹ƒà¸™à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ `src/temp/` à¸ˆà¸²à¸à¸™à¸±à¹‰à¸™à¸£à¸±à¸™à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸™à¸µà¹‰à¹€à¸à¸·à¹ˆà¸­à¹ƒà¸«à¹‰à¸£à¸°à¸šà¸šà¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥à¹à¸¥à¸°à¸ªà¸£à¹‰à¸²à¸‡ Vector Database:
    ```bash
    poe index
    ```
    *(à¸«à¸²à¸à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸¥à¹‰à¸²à¸‡à¸‚à¸­à¸‡à¹€à¸à¹ˆà¸²à¹à¸¥à¸°à¸ªà¸£à¹‰à¸²à¸‡à¹ƒà¸«à¸¡à¹ˆà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” à¹ƒà¸Šà¹‰ `poe reindex`)*

3.  **à¹€à¸›à¸´à¸”à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ Web App:**
    à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸à¸ªà¸£à¹‰à¸²à¸‡à¸”à¸±à¸Šà¸™à¸µà¸ªà¸³à¹€à¸£à¹‡à¸ˆ à¹ƒà¸«à¹‰à¸£à¸±à¸™à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸™à¸µà¹‰à¹€à¸à¸·à¹ˆà¸­à¹€à¸›à¸´à¸”à¸«à¸™à¹‰à¸²à¹€à¸§à¹‡à¸šà¸ªà¸³à¸«à¸£à¸±à¸šà¸–à¸²à¸¡-à¸•à¸­à¸š:
    ```bash
    poe start
    ```
    à¸ˆà¸²à¸à¸™à¸±à¹‰à¸™à¹€à¸›à¸´à¸”à¹€à¸šà¸£à¸²à¸§à¹Œà¹€à¸‹à¸­à¸£à¹Œà¹„à¸›à¸—à¸µà¹ˆ `http://localhost:8501`

---

## ğŸ“ˆ Diagram à¸­à¸˜à¸´à¸šà¸²à¸¢à¸£à¸°à¸šà¸š RAG (RAG Architecture Diagram)

à¸£à¸°à¸šà¸šà¸™à¸µà¹‰à¹à¸šà¹ˆà¸‡à¸à¸²à¸£à¸—à¸³à¸‡à¸²à¸™à¸­à¸­à¸à¹€à¸›à¹‡à¸™ 2 à¸ªà¹ˆà¸§à¸™à¸«à¸¥à¸±à¸à¸„à¸·à¸­ **Indexing Pipeline** (à¸à¸²à¸£à¹€à¸•à¸£à¸µà¸¢à¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥) à¹à¸¥à¸° **Querying Pipeline** (à¸à¸²à¸£à¸•à¸­à¸šà¸„à¸³à¸–à¸²à¸¡)

### 1. Indexing Pipeline (à¸£à¸±à¸™à¸”à¹‰à¸§à¸¢ `poe index`)

```mermaid
graph TD
    A[ğŸ“„ PDF Files in /src/temp] --> B{1. Load & Chunk};
    B --> C{2. Generate Embeddings};
    C --> D[ğŸ“¦ ChromaDB Vector Store];
    D --> E[ğŸ’¾ /chroma_db folder];

    subgraph "src/pdf_processor.py"
        B
    end

    subgraph "HuggingFaceEmbeddings"
        C
    end
```

### 2. Querying Pipeline (à¸£à¸±à¸™à¸”à¹‰à¸§à¸¢ `poe query`)
```
graph TD
    subgraph "User via Streamlit UI"
        A[â“ User's Question]
    end

    subgraph "RAG System (Backend)"
        B{1. Convert Query to Vector};
        C{2. Similarity Search};
        D[ğŸ“š Retrieved Chunks];
        E{3. Augment Prompt};
        F[ğŸ§  Ollama LLM];
        G[ğŸ’¬ Final Answer];
    end

    subgraph "Existing Vector Store"
        VS[ğŸ“¦ ChromaDB]
    end

    A --> B;
    B --> C;
    C -- finds relevant vectors --> VS;
    VS -- returns relevant chunks --> D;
    A --> E;
    D --> E;
    E --> F;
    F --> G;
    
    subgraph "HuggingFaceEmbeddings"
        B
    end

    G --> H[ğŸ’» Display on Streamlit UI];
```